

<form 
    [formGroup]="myForm" 
    (ngSubmit)="onSubmit()" 
    autocomplete="off">
    <div class="row">
        <div class="col-12 mt-2 col-md-5 mt-md-0">
            <div class="form-group">
                <label class="form-label">Nombre</label>
                <input
                    formControlName="name"
                    type="text" 
                    class="form-control"
                    name="nombre"
                    aria-describedby="Name Help">
                <div class="error mt-1">
                    <span *ngIf="myForm.controls['name'].errors?.['required'] && myForm.controls['name'].touched" >
                        Este campo es obligatorio
                    </span>
                    <span *ngIf="myForm.controls['name'].errors?.['minlength'] && myForm.controls['name'].touched" >
                        Debe tener como mínimo {{ myForm.controls['name'].errors?.['minlength'].requiredLength }} carácteres
                    </span>
                </div>
            </div>
        </div>
        <div class="col-12 mt-2 col-md-5 mt-md-0">
            <div class="form-group">
                <label class="form-label">Apellidos</label>
                <input
                    formControlName="surname"                    
                    type="text" 
                    class="form-control" 
                    name="apellidos"
                    aria-describedby="Surname Help">
                <div class="error mt-1">
                    <span *ngIf="myForm.controls['surname'].errors?.['required'] && myForm.controls['surname'].touched" >
                        Este campo es obligatorio
                    </span>
                    <span *ngIf="myForm.controls['surname'].errors?.['minlength'] && myForm.controls['surname'].touched" >
                        Debe tener como mínimo {{ myForm.controls['surname'].errors?.['minlength'].requiredLength }} carácteres
                    </span>
                </div>
            </div>
        </div>
        <div class="col-12 mt-2 col-md-2 mt-md-0">
            <div class="form-group">
                <label class="form-label">Edad</label>
                <input
                    formControlName="age"                    
                    type="text" 
                    class="form-control" 
                    name="edad"
                    aria-describedby="Age Help">
                <div class="error mt-1">
                    <span *ngIf="myForm.controls['age'].errors?.['ageValidator'] && myForm.controls['age'].touched" >
                        Debes tener entre {{ myForm.controls['age'].errors?.['ageValidator'].min }} y {{ myForm.controls['age'].errors?.['ageValidator'].max }} años
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-0 mt-md-2">
        <div class="col-12 mt-2 col-md-6 mt-md-0">
            <div class="form-group">
                <label class="form-label">Dni</label>
                <input
                    formControlName="dni"                    
                    type="text" 
                    class="form-control" 
                    name="dni"
                    aria-describedby="DNI Help">
                <div class="error mt-1">
                    <span *ngIf="myForm.controls['dni'].errors?.['dniValidator'] && myForm.controls['dni'].touched" >
                        El DNI no es válido
                    </span>
                </div>
            </div>
        </div>
        <div class="col-12 mt-2 col-md-6 mt-md-0">
            <div class="form-group">
                <label class="form-label">Email</label>
                <input
                    formControlName="email"                    
                    type="email" 
                    class="form-control" 
                    name="email"
                    aria-describedby="Email Help">
                <div class="error mt-1">
                    <span *ngIf="myForm.controls['email'].errors?.['required'] && myForm.controls['email'].touched" >
                        Este campo es obligatorio
                    </span>
                    <span *ngIf="myForm.controls['email'].errors?.['pattern'] && myForm.controls['email'].touched" >
                        El email no es válido
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-0 mt-md-2">
        <div class="col-12 mt-2 col-md-6 mt-md-0">
            <div class="form-group">
                <label class="form-label">Contraseña</label>
                <input
                    formControlName="pass"                    
                    type="password" 
                    class="form-control" 
                    name="contrasena"
                    aria-describedby="Contraseña Help">
            </div>
        </div>
        <div class="col-12 mt-2 col-md-6 mt-md-0">
            <div class="form-group">
                <label class="form-label">Repita la contraseña</label>
                <input
                    formControlName="repeatePass"                    
                    type="password" 
                    class="form-control" 
                    name="contrasena"
                    aria-describedby="Repita contraseña Help">
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-end mt-3">
        <button 
            [disabled]="!myForm.valid"
            type="submit" 
            [ngClass]="myForm.valid ? 'btn-outline-success' : 'btn-outline-danger'"
            class="btn w-25">
            Enviar
        </button>
    </div>
</form>

<code class="d-block mt-3">{{ myForm.value | json }}</code>
<hr>
<div>
    <p>Valido: {{ myForm.valid }}</p>
    <p>Invalido: {{ myForm.invalid }}</p>
    <p>El formulario aún no ha sido escrito: {{ myForm.dirty }}</p>
    <p>El formulario aún no ha sido tocado: {{ myForm.untouched }}</p>
</div>